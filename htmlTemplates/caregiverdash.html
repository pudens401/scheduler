<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Caregiver Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .notification-success { background-color: #f0fdf4; border-left: 4px solid #4ade80; }
        .notification-warning { background-color: #fefce8; border-left: 4px solid #facc15; }
        .notification-error { background-color: #fef2f2; border-left: 4px solid #f87171; }
        @media (min-width: 768px) {
            .schedule-input { min-width: 120px; }
            .medication-input { min-width: 200px; }
        }
        .patient-card { transition: all 0.2s ease; }
        .patient-card:hover { transform: translateY(-2px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); }
    </style>
</head>
<body class="bg-gray-50 font-sans">
<div class="container mx-auto px-4 py-6 max-w-6xl">
    <header class="mb-8 flex justify-between items-start">
        <div>
            <h1 class="text-2xl md:text-3xl font-bold text-gray-800">Caregiver Dashboard</h1>
            <p class="text-gray-600 md:text-lg">Manage your patients' health devices</p>
        </div>
        <button onclick="logout()" class="bg-gray-200 hover:bg-gray-300 text-gray-800 py-2 px-4 rounded-md transition duration-200 flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
            </svg>
            Logout
        </button>
    </header>

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
        <!-- Left Column -->
        <div class="lg:col-span-2 space-y-6">
            <!-- Patient Devices -->
            <section class="bg-white rounded-lg shadow p-6">
                <h2 class="text-xl md:text-2xl font-semibold mb-4 text-gray-700">Patient Devices</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4" id="patientDevices">
                    <!-- Patient 1 -->
                    <div class="patient-card bg-white border rounded-lg p-4 cursor-pointer" onclick="loadPatientData('device123')">
                        <div class="flex items-center">
                            <div class="bg-blue-100 p-3 rounded-full mr-4">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                                </svg>
                            </div>
                            <div>
                                <p class="font-medium text-gray-800">John Doe</p>
                                <p class="text-gray-600 text-sm">Device ID: device123</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Patient 2 -->
                    <div class="patient-card bg-white border rounded-lg p-4 cursor-pointer" onclick="loadPatientData('device456')">
                        <div class="flex items-center">
                            <div class="bg-blue-100 p-3 rounded-full mr-4">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                                </svg>
                            </div>
                            <div>
                                <p class="font-medium text-gray-800">Jane Smith</p>
                                <p class="text-gray-600 text-sm">Device ID: device456</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Patient 3 -->
                    <div class="patient-card bg-white border rounded-lg p-4 cursor-pointer" onclick="loadPatientData('device789')">
                        <div class="flex items-center">
                            <div class="bg-blue-100 p-3 rounded-full mr-4">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                                </svg>
                            </div>
                            <div>
                                <p class="font-medium text-gray-800">Robert Johnson</p>
                                <p class="text-gray-600 text-sm">Device ID: device789</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Patient 4 -->
                    <div class="patient-card bg-white border rounded-lg p-4 cursor-pointer" onclick="loadPatientData('device101')">
                        <div class="flex items-center">
                            <div class="bg-blue-100 p-3 rounded-full mr-4">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                                </svg>
                            </div>
                            <div>
                                <p class="font-medium text-gray-800">Emily Davis</p>
                                <p class="text-gray-600 text-sm">Device ID: device101</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Current Patient Schedule -->
            <section class="bg-white rounded-lg shadow p-6" id="patientScheduleSection">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-xl md:text-2xl font-semibold text-gray-700">Patient Schedule</h2>
                    <p id="currentPatientName" class="text-gray-600"></p>
                </div>
                <div class="overflow-x-auto">
                    <table class="min-w-full">
                        <thead>
                            <tr class="border-b">
                                <th class="text-left py-2 px-1 text-gray-600 md:text-lg">Time</th>
                                <th class="text-left py-2 px-1 text-gray-600 md:text-lg">Medication</th>
                            </tr>
                        </thead>
                        <tbody id="scheduleTable">
                            <!-- Schedule will be loaded here -->
                        </tbody>
                    </table>
                </div>
                <button id="updateScheduleBtn" class="mt-4 w-full md:w-auto md:px-8 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-md transition duration-200 hidden">
                    Update Schedule
                </button>
            </section>
        </div>

        <!-- Right Column -->
        <div class="space-y-6">
            <!-- Notifications -->
            <section class="bg-white rounded-lg shadow p-6">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-xl md:text-2xl font-semibold text-gray-700">Patient Notifications</h2>
                    <select id="notificationFilter" class="border rounded px-2 py-1 text-sm">
                        <option value="all">All Patients</option>
                        <option value="device123">John Doe</option>
                        <option value="device456">Jane Smith</option>
                        <option value="device789">Robert Johnson</option>
                        <option value="device101">Emily Davis</option>
                    </select>
                </div>
                <div class="space-y-3" id="notifications">
                    <div class="notification-warning p-3 rounded-md">
                        <p class="text-sm md:text-base">Missed medication: Jane Smith didn't take her 2:00 PM dose</p>
                        <p class="text-xs md:text-sm text-gray-500 mt-1">Today, 2:15 PM</p>
                    </div>
                    <div class="notification-error p-3 rounded-md">
                        <p class="text-sm md:text-base">Device disconnected: Emily Davis's device is offline</p>
                        <p class="text-xs md:text-sm text-gray-500 mt-1">Today, 10:30 AM</p>
                    </div>
                    <div class="notification-success p-3 rounded-md">
                        <p class="text-sm md:text-base">All medications taken: John Doe completed today's schedule</p>
                        <p class="text-xs md:text-sm text-gray-500 mt-1">Today, 8:00 PM</p>
                    </div>
                    <div class="notification-warning p-3 rounded-md">
                        <p class="text-sm md:text-base">Low battery: Robert Johnson's device battery at 15%</p>
                        <p class="text-xs md:text-sm text-gray-500 mt-1">Yesterday, 9:45 PM</p>
                    </div>
                </div>
            </section>

            <!-- Profile -->
            <section class="bg-white rounded-lg shadow p-6">
                <h2 class="text-xl md:text-2xl font-semibold mb-4 text-gray-700">Your Profile</h2>
                <div class="flex items-center">
                    <div class="bg-purple-100 p-3 rounded-full mr-4">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-purple-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                        </svg>
                    </div>
                    <div>
                        <p class="font-medium text-gray-800 md:text-lg">Dr. Sarah Williams</p>
                        <p class="text-gray-600 text-sm md:text-base">Senior Caregiver</p>
                    </div>
                </div>
                <div class="mt-4 pt-4 border-t">
                    <p class="text-gray-600 text-sm md:text-base mb-1">Email: sarah.williams@example.com</p>
                    <p class="text-gray-600 text-sm md:text-base">Phone: (555) 123-4567</p>
                </div>
            </section>
        </div>
    </div>
</div>

<script>
    // Mock patient data
    const patients = {
        'device123': {
            name: 'John Doe',
            schedule: [
                { time24: '08:00', medication: 'Lisinopril 10mg' },
                { time24: '12:00', medication: 'Metformin 500mg' },
                { time24: '18:00', medication: 'Atorvastatin 20mg' }
            ]
        },
        'device456': {
            name: 'Jane Smith',
            schedule: [
                { time24: '07:30', medication: 'Levothyroxine 50mcg' },
                { time24: '14:00', medication: 'Albuterol Inhaler' },
                { time24: '20:00', medication: 'Sertraline 100mg' }
            ]
        },
        'device789': {
            name: 'Robert Johnson',
            schedule: [
                { time24: '09:00', medication: 'Warfarin 5mg' },
                { time24: '13:00', medication: 'Furosemide 40mg' },
                { time24: '21:00', medication: 'Trazodone 50mg' }
            ]
        },
        'device101': {
            name: 'Emily Davis',
            schedule: [
                { time24: '08:30', medication: 'Insulin Glargine' },
                { time24: '12:30', medication: 'Gabapentin 300mg' },
                { time24: '19:00', medication: 'Duloxetine 60mg' }
            ]
        }
    };

    function loadPatientData(deviceId) {
        const patient = patients[deviceId];
        if (!patient) return;
        
        // Update current patient name
        document.getElementById('currentPatientName').textContent = patient.name;
        
        // Load schedule
        const scheduleTable = document.getElementById('scheduleTable');
        scheduleTable.innerHTML = '';
        
        patient.schedule.forEach(item => {
            const row = document.createElement('tr');
            row.className = 'border-b';
            
            row.innerHTML = `
                <td class="py-3 px-1">
                    <input type="time" value="${item.time24}" class="border rounded px-2 py-1 w-full schedule-input">
                </td>
                <td class="py-3 px-1">
                    <input type="text" value="${item.medication}" class="border rounded px-2 py-1 w-full medication-input">
                </td>
            `;
            
            scheduleTable.appendChild(row);
        });
        
        // Show update button
        document.getElementById('updateScheduleBtn').classList.remove('hidden');
    }

    function logout() {
        // In a real app, this would redirect to logout endpoint
        alert('Logging out...');
        // window.location.href = '/logout';
    }

    document.addEventListener('DOMContentLoaded', function() {
        // Filter notifications
        document.getElementById('notificationFilter').addEventListener('change', function(e) {
            // In a real app, this would filter notifications from the server
            console.log('Filtering notifications for:', e.target.value);
        });
        
        // Update schedule button
        document.getElementById('updateScheduleBtn').addEventListener('click', function() {
            alert('Schedule updated successfully!');
        });
    });
</script>
</body>
</html>